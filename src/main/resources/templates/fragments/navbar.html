<nav class="bg-white dark:bg-slate-800 shadow-lg border-b border-slate-200 dark:border-slate-700 
            mt-4 mb-8 rounded-2xl transition-colors duration-300"
     th:fragment="navbar"
     xmlns:th="http://www.thymeleaf.org">

  <div class="container mx-auto px-4">
    <div class="flex justify-between items-center py-4">

      <!-- Logo + Brand Name -->
      <a href="/" class="flex items-center gap-3">

        <!-- Apple-style Minimal Logo -->
        <svg width="32" height="32" viewBox="0 0 48 48" fill="none">
          <circle cx="24" cy="24" r="22" 
                  class="dark:fill-purple-700 fill-blue-600"
                  style="opacity:.15;"></circle>

          <path d="M18 32C18 28 22 26 24 26C26 26 30 28 30 32C30 36 26 38 24 38C22 38 18 36 18 32Z"
                class="dark:fill-purple-300 fill-blue-600"></path>

          <circle cx="24" cy="18" r="6"
                  class="dark:fill-purple-400 fill-blue-500"></circle>
        </svg>

        <span class="text-2xl font-extrabold tracking-wide
                     bg-gradient-to-r from-blue-600 to-purple-600 
                     bg-clip-text text-transparent
                     dark:from-blue-400 dark:to-purple-300">
          Creator Studio Tools
        </span>
      </a>

      <!-- Navigation Links -->
      <div class="flex items-center space-x-2 md:space-x-4">

        <!-- SEO Tags -->
        <a href="/"
           class="nav-item"
           th:classappend="${activePage} == 'home' ? 'active-nav' : ''">
          SEO Tags
        </a>

        <!-- Thumbnails -->
        <a href="/thumbnail"
           class="nav-item"
           th:classappend="${activePage} == 'thumbnails' ? 'active-nav' : ''">
          Thumbnails
        </a>

        <!-- Video Data -->
        <a href="/video-details"
           class="nav-item"
           th:classappend="${activePage} == 'video' ? 'active-nav' : ''">
          Video Data
        </a>

        <!-- Theme Toggle -->
        <button id="themeToggle"
                type="button"
                class="w-10 h-10 flex items-center justify-center 
                       border border-blue-600 dark:border-blue-400 
                       text-blue-600 dark:text-blue-400 
                       bg-transparent hover:bg-blue-600 hover:text-white 
                       dark:hover:bg-blue-400 dark:hover:text-slate-900 
                       rounded-xl transition-all duration-300 shadow-sm">
          <i id="themeIcon" class="bi bi-sun-fill"></i>
        </button>

      </div>
    </div>
  </div>

  <!-- Custom Navbar Styles -->
  <style>
    .nav-item {
      padding: 10px 18px;
      font-weight: 500;
      border-radius: 12px;
      color: #475569;
      transition: all .25s ease;
    }
    .dark .nav-item { color: #cbd5e1; }

    .nav-item:hover {
      background: rgba(59, 130, 246, 0.1); 
      color: #2563eb;
    }
    .dark .nav-item:hover {
      background: rgba(59, 130, 246, 0.25);
      color: #60a5fa;
    }

    .active-nav {
      background: rgba(59, 130, 246, 0.2);
      color: #1d4ed8 !important;
      font-weight: 600;
    }
    .dark .active-nav {
      background: rgba(59, 130, 246, 0.35);
      color: #bfdbfe !important;
    }
  </style>

  <!-- Dark Mode Script -->
  <script>
    const toggleBtn = document.getElementById('themeToggle');
    const icon = document.getElementById('themeIcon');

    toggleBtn.addEventListener('click', () => {
      const htmlTag = document.documentElement;

      if (htmlTag.classList.contains('dark')) {
        htmlTag.classList.remove('dark');
        localStorage.setItem('theme', 'light');
        icon.className = 'bi bi-sun-fill';
      } else {
        htmlTag.classList.add('dark');
        localStorage.setItem('theme', 'dark');
        icon.className = 'bi bi-moon-fill';
      }
    });

    if (localStorage.getItem('theme') === 'dark') {
      document.documentElement.classList.add('dark');
      icon.className = 'bi bi-moon-fill';
    }
  </script>

</nav>
